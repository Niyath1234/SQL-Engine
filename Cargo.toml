[package]
name = "hypergraph-sql-engine"
version = "0.1.0"
edition = "2021"

[dependencies]
# SQL Parsing
sqlparser = "0.40"

# Columnar Data & Arrow (for efficient columnar operations)
arrow = { version = "57", features = [] }
parquet = "57"

# SIMD Operations
# Note: portable-simd requires nightly, using manual SIMD intrinsics instead
# For stable Rust, we use manual SIMD via std::arch or fallback to scalar

# Serialization
serde = { version = "1", features = ["derive"] }
serde_json = "1"
bincode = "1"

# Concurrency & Parallelism
crossbeam = "0.8"
dashmap = "5"
rayon = "1.8"

# Compression
zstd = "0.13"
lz4 = "1.24"

# Utilities
ahash = "0.8"  # Fast hashing
bitvec = "1"   # Bitmap operations
fxhash = "0.2" # Fast hash functions
murmurhash3 = "0.0.5" # Fast hashing for joins
ordered-float = "2" # Ordered floats for sorting
regex = "1"    # Pattern matching for LIKE operator

# Error Handling
anyhow = "1"
thiserror = "1"

# Async runtime (needed for PostgreSQL and DuckDB)
tokio = { version = "1", features = ["full"] }

# CSV Parsing
csv = "1.3"

# PostgreSQL
postgres = "0.19"
tokio-postgres = "0.7"

# DuckDB (high-performance analytical database)
duckdb = { version = "1.0", features = ["bundled"] }

# Logging
tracing = "0.1"
tracing-subscriber = "0.3"

# Memory Management
bumpalo = "3"  # Fast allocator for temporary data
memmap2 = "0.9"  # Memory-mapped files for zero-copy fragment access

# Metrics & Profiling
criterion = "0.5"

[dev-dependencies]
criterion = "0.5"

[[bench]]
name = "query_bench"
harness = false

[[bin]]
name = "benchmark"
path = "src/bin/benchmark.rs"

[[bin]]
name = "compare_engines"
path = "src/bin/compare_engines.rs"

